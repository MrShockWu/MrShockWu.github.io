{"version":3,"sources":["webpack:///./src/app/pages/tzb/custom/marketing/marketing-activite/relevance-product/relevance-product.component.html","webpack:///./src/app/pages/tzb/custom/marketing/marketing-activite/relevance-product/relevance-product.component.scss","webpack:///./src/app/pages/tzb/custom/marketing/marketing-activite/relevance-product/relevance-product.component.ts","webpack:///./src/app/pages/tzb/custom/marketing/marketing-activite/relevance-product/relevance-product.module.ts","webpack:///./src/app/pages/tzb/custom/marketing/marketing-activite/relevance-product/relevance-product.routing.ts"],"names":[],"mappings":"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","file":"relevance-product-relevance-product-module.js","sourcesContent":["module.exports = \"<div class=\\\"ui-g-12 module\\\" style=\\\"padding:0\\\">\\r\\n    <div class=\\\"ui-g-12 product-name\\\">\\r\\n        <span>\\r\\n            关联产品：\\r\\n            <button pButton type=\\\"button\\\" (click)=\\\"selectProduct()\\\" label=\\\"关联产品选择\\\" [disabled]=\\\"showDisabled || (marketingCampaigntType =='12' && dataSource =='01')\\\"></button>\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"ui-g-12\\\">\\r\\n        <p-dataTable [(value)]=\\\"dataList\\\" scrollable=\\\"true\\\" [style]=\\\"{'text-align':'center'}\\\" scrollWidth=\\\"100%\\\">\\r\\n            <p-column field=\\\"\\\" header=\\\"序号\\\" [style]=\\\"{'width':'100px'}\\\">\\r\\n                <ng-template let-item=\\\"rowData\\\" let-i=\\\"rowIndex\\\" pTemplate=\\\"body\\\">\\r\\n                    <span>{{i+1}}</span>\\r\\n                </ng-template>\\r\\n            </p-column>\\r\\n            <p-column field=\\\"productId\\\" header=\\\"产品编号\\\"></p-column>\\r\\n            <p-column field=\\\"productName\\\" header=\\\"产品名称\\\"></p-column>\\r\\n            <p-column field=\\\"\\\" header=\\\"操作\\\" *ngIf=\\\"!dataSource || dataSource!='01'\\\"[sortable]=\\\"false\\\">\\r\\n                <ng-template let-item=\\\"rowData\\\" let-i=\\\"rowIndex\\\" pTemplate=\\\"body\\\">\\r\\n                    <span (click)=\\\"toDelete(i)\\\" class=\\\"minusIco\\\">删除</span>\\r\\n                </ng-template>\\r\\n            </p-column>\\r\\n        </p-dataTable>\\r\\n    </div>\\r\\n    <div class=\\\"ui-g-12 title-header\\\" *ngIf=\\\"marketingCampaigntType =='12'\\\">\\r\\n\\t\\t<div class=\\\"ui-g-2 cmtextlable\\\" style=\\\"padding-top:0\\\">\\r\\n\\t\\t\\t<span appValidation>推荐产品理由：</span>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"ui-g-8\\\" style=\\\"padding-top:0;padding-bottom:0\\\">\\r\\n            <!-- <textarea rows=\\\"4\\\" cols=\\\"80\\\" pInputTextarea autoResize=\\\"autoResize\\\" [(ngModel)]=\\\"recReasons\\\" (keyup)=\\\"nameKey('2')\\\"></textarea> -->\\r\\n            <textarea rows=\\\"4\\\" cols=\\\"80\\\" pInputTextarea [(ngModel)]=\\\"recReasons\\\" autoResize=\\\"autoResize\\\"></textarea>\\r\\n\\t\\t\\t<div class=\\\"requireLabel\\\" style=\\\"color:red;\\\" *ngIf=\\\"showName1\\\">\\r\\n\\t\\t\\t\\t最大长度不能超过255！\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n    <div class=\\\"ui-g-12 btn-switch\\\">\\r\\n        <button pButton type=\\\"button\\\" (click)=\\\"prev()\\\" label=\\\"上一步\\\"></button>\\r\\n        <button pButton type=\\\"button\\\" (click)=\\\"next()\\\" label=\\\"下一步\\\"></button>\\r\\n        <span class=\\\"icoColor\\\" (click)=\\\"rest()\\\">重置</span>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!-- 模态框产品树一期-->\\r\\n<!-- <p-dialog *ngIf=\\\"display\\\" modal=\\\"modal\\\" [(visible)]=\\\"display\\\" [responsive]=\\\"true\\\" class=\\\"select-tree2\\\" [positionTop]=10>\\r\\n    <p-header>\\r\\n        {{headerTitle}}\\r\\n    </p-header>\\r\\n    <div>\\r\\n        <marketing-product-tree (outValue)=\\\"updateCall($event)\\\" [inValue]=\\\"upInValue\\\"></marketing-product-tree>\\r\\n    </div>\\r\\n</p-dialog> -->\\r\\n<p-dialog header=\\\"选择产品\\\" *ngIf=\\\"selectProductDisplay\\\" [(visible)]=\\\"selectProductDisplay\\\" (onHide)=\\\"closeSetting()\\\" modal=\\\"true\\\"\\r\\n    class=\\\"cardStatusAdjustmentProf\\\">\\r\\n    <select-product-component *ngIf=\\\"selectProductDisplay\\\" [inValue]=\\\"invalue\\\" [isCatelog]=\\\"isCatelog\\\"  (outValue)=\\\"updateCall($event)\\\"></select-product-component>\\r\\n</p-dialog>\\r\\n<p-growl [(value)]=\\\"msgs\\\"></p-growl>\"","module.exports = \".cmtextlable {\\n  text-align: right; }\\n\\n.btn-switch, .product-name {\\n  text-align: center; }\\n\\n:host/deep/ .select-tree2 .ui-dialog .ui-dialog-content {\\n  height: 90% !important; }\\n\\n:host /deep/ .cardStatusAdjustmentProf .ui-dialog.ui-shadow {\\n  height: 90% !important; }\\n\\n:host/deep/ .cardStatusAdjustmentProf .ui-dialog .ui-dialog-content {\\n  height: 90%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdHpiL2N1c3RvbS9tYXJrZXRpbmcvbWFya2V0aW5nLWFjdGl2aXRlL3JlbGV2YW5jZS1wcm9kdWN0L0Q6XFx3b3JrRm9yUnVuSG9cXDIwMTkwODA1VHpfbmpfRExTXFxmcm9udF9lbmQvc3JjXFxhcHBcXHBhZ2VzXFx0emJcXGN1c3RvbVxcbWFya2V0aW5nXFxtYXJrZXRpbmctYWN0aXZpdGVcXHJlbGV2YW5jZS1wcm9kdWN0XFxyZWxldmFuY2UtcHJvZHVjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFpQixFQUFBOztBQUVyQjtFQUNJLGtCQUFrQixFQUFBOztBQUV0QjtFQUNJLHNCQUFzQixFQUFBOztBQUUxQjtFQUVJLHNCQUFzQixFQUFBOztBQUcxQjtFQUNJLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3R6Yi9jdXN0b20vbWFya2V0aW5nL21hcmtldGluZy1hY3Rpdml0ZS9yZWxldmFuY2UtcHJvZHVjdC9yZWxldmFuY2UtcHJvZHVjdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jbXRleHRsYWJsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG4uYnRuLXN3aXRjaCwucHJvZHVjdC1uYW1le1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcbjpob3N0L2RlZXAvIC5zZWxlY3QtdHJlZTIgLnVpLWRpYWxvZyAudWktZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiA5MCUgIWltcG9ydGFudDtcclxufVxyXG46aG9zdCAvZGVlcC8gLmNhcmRTdGF0dXNBZGp1c3RtZW50UHJvZiAudWktZGlhbG9nLnVpLXNoYWRvdyB7XHJcbiAgICAvLyB3aWR0aDogOTAwcHggIWltcG9ydGFudDtcclxuICAgIGhlaWdodDogOTAlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbjpob3N0L2RlZXAvIC5jYXJkU3RhdHVzQWRqdXN0bWVudFByb2YgLnVpLWRpYWxvZyAudWktZGlhbG9nLWNvbnRlbnQge1xyXG4gICAgaGVpZ2h0OiA5MCU7XHJcbn0iXX0= */\"","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\r\nimport { Message, ConfirmationService } from \"primeng/primeng\";\r\nimport { tableMessage, CALENDAR_CN } from 'app/@uisftech/common/constant/config';\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport * as $ from 'jquery';\r\nimport * as moment from 'moment';\r\nimport * as _ from 'lodash';\r\nimport { Commfunc } from '../../../../../../@uisftech/common/service/commonFun';\r\nimport { MarketingHttpService } from '../../http/marketing.http.service';\r\n/**\r\n * 关联产品\r\n */\r\n@Component({\r\n\tselector: 'relevance-product',\r\n\ttemplateUrl: './relevance-product.component.html',\r\n\tstyleUrls: ['./relevance-product.component.scss'],\r\n\tproviders: [MarketingHttpService, ConfirmationService]\r\n})\r\nexport class ReleProductComponent implements OnInit {\r\n\ttabMesg: string = tableMessage;\r\n\tdisplay: boolean = false;\r\n\tupInValue: any;\r\n\tdataList: any = [];\r\n\tmarketingCampaignId: string;\r\n\tmsgs: Message[] = [];\r\n\tmarketingCampaigntType: any = [];\r\n\tbatchId: any;\r\n\tsecBatchId: any;\r\n\tdataSource: any;\r\n\tactiviteData: any = {};//接收详情数据\r\n\tflagCopy: string;\r\n\turl: any = [];\r\n\tisNext: boolean = false;\r\n\tdeId: string;\r\n\tshowDisabled: boolean = false;//可编辑\r\n\tselectProductDisplay: boolean = false;//弹出框\r\n\tisCatelog: boolean = true;\r\n\ttabPrev: any;\r\n\trecReasons: any;\r\n\tinvalue: any;\r\n\tconstructor(\r\n\t\tpublic router: Router,\r\n\t\tpublic activatedRoute: ActivatedRoute,\r\n\t\tpublic commfunc: Commfunc,\r\n\t\tpublic marketingHttpService: MarketingHttpService,\r\n\t\tpublic confirmationService: ConfirmationService\r\n\t) {\r\n\t\tthis.marketingCampaignId = this.activatedRoute.snapshot.params['marketingCampaignId'];//营销活动id\r\n\t\tthis.marketingCampaigntType = this.activatedRoute.snapshot.params['marketingCampaigntType'];\r\n\t\tthis.batchId = this.activatedRoute.snapshot.params['batchId'];\r\n\t\tthis.secBatchId = this.activatedRoute.snapshot.params['secBatchId'];\r\n\t\tthis.dataSource = this.activatedRoute.snapshot.params['dataSource'];\r\n\t\tthis.flagCopy = this.activatedRoute.snapshot.params['flagCopy'];//复制和修改的标识\r\n\t\t// this.deId=this.activatedRoute.snapshot.params['deId'];\r\n\t\tthis.tabPrev = this.activatedRoute.snapshot.params['tabPrev'];\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.dataList = [];\r\n\t\t})\r\n\t\t// this.dataList=[];\r\n\t\tthis.url = JSON.parse(this.commfunc.getSessionDataCH('markingURL'));\r\n\t\tthis.url.forEach((element, index) => {\r\n\t\t\tif (element.label == \"ReleProductComponent\") {\r\n\t\t\t\tif (index + 1 == this.url.length) {//判断是最后一个\r\n\t\t\t\t\tthis.isNext = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t// if (this.flagCopy) {\r\n\t\t// \tthis.activiteData = JSON.parse(this.activatedRoute.snapshot.params['activiteData']);//接收详情的数据\r\n\t\t// \tif (this.activiteData.relationProductList) {\r\n\t\t// \t\tthis.dataList = this.activiteData.relationProductList;\r\n\t\t// \t}\r\n\t\t// \tif (this.activiteData.statusId=='3') {//状态为已发布进行中时不给修改\r\n\t\t// \t\tthis.showDisabled = true;\r\n\t\t// \t}else{\r\n\t\t// \t\tthis.showDisabled = false;\r\n\t\t// \t}\r\n\t\t// }\r\n\t\t// if (this.marketingCampaignId) {\r\n\t\t// \tthis.echoClick()\r\n\t\t// }\r\n\t\t//交叉销售--产品查询（数据来源为模型）\r\n\t\tif (this.marketingCampaigntType == '12') {\r\n\t\t\tthis.invalue = 'advancedCatelog';\r\n\t\t\tthis.queryRecommendProduct();\r\n\t\t} else if (this.marketingCampaignId) {\r\n\t\t\tthis.invalue = 'catelogPage';\r\n\t\t\tthis.echoClick()\r\n\t\t}\r\n\t}\r\n\t// 交叉销售--产品查询（数据来源为模型）\r\n\tqueryRecommendProduct() {\r\n\t\tlet param = {\r\n\t\t\tbatchId: this.batchId,// 批次号\r\n\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t// marketingCampaignId: this.marketingCampaignId,// 营销活动编号\r\n\t\t}\r\n\t\tthis.marketingHttpService.queryRecommendProduct(param).subscribe(data => {\r\n\t\t\tif (data.returnCode.code == 'success') {\r\n\t\t\t\tthis.dataList = data.recommendProductList;\r\n\t\t\t\tthis.recReasons = data.recReasons;\r\n\t\t\t\t// this.dataSource = data.dataSource;\r\n\t\t\t\tif (this.dataList == null) {\r\n\t\t\t\t\tthis.dataList = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis.msgs = [];\r\n\t\t\t\tthis.msgs.push({ severity: 'success', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t} else {\r\n\t\t\t\tthis.msgs = [];\r\n\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t}\r\n\t\t}, error => {\r\n\t\t\tthis.msgs = [];\r\n\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '调用服务失败' });\r\n\t\t})\r\n\t}\r\n\t//关联产品选择\r\n\tselectProduct() {\r\n\t\tthis.selectProductDisplay = true;\r\n\t\t// this.upInValue = { flag: '1' }\r\n\t}\r\n\r\n\t// 关闭模态框\r\n\tcloseSetting() {\r\n\t\tthis.selectProductDisplay = false;\r\n\t}\r\n\t//关联产品-回调产品\r\n\tupdateCall(event) {\r\n\t\tthis.selectProductDisplay = false;\r\n\t\tlet productList = event;\r\n\t\tlet arr = [];\r\n\t\tfor (let i of productList) {\r\n\t\t\tlet array = {}\r\n\t\t\tif (i.productId != \"\") {\r\n\t\t\t\tarray['productId'] = i.productId,\r\n\t\t\t\t\tarray['productName'] = i.productName,\r\n\t\t\t\t\tarr.push(array);\r\n\t\t\t\tconsole.log(i.productId);\r\n\t\t\t\tconsole.log(this.dataList);\r\n\t\t\t\tif (this.marketingCampaigntType == '12') {\r\n\t\t\t\t\tif (this.dataList.length == 0) {\r\n\t\t\t\t\t\tthis.dataList.push(array);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfor (let j = 0; j < this.dataList.length; j++) {\r\n\t\t\t\t\t\t\tif (this.dataList[j].productId == i.productId) {\r\n\t\t\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '该产品已存在!' });\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (j == this.dataList.length - 1) {\r\n\t\t\t\t\t\t\t\tthis.dataList.push(array);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (arr.length == 0) {\r\n\t\t\tarr = [{\r\n\t\t\t\tproductId: '',\r\n\t\t\t\tproductName: '',\r\n\t\t\t}]\r\n\t\t}\r\n\t\tconsole.log(this.marketingCampaigntType);\r\n\t\tif (this.marketingCampaigntType != '12') {\r\n\t\t\tthis.dataList = arr;\r\n\t\t}\r\n\r\n\t\tconsole.log(this.dataList)\r\n\r\n\t}\r\n\t//删除\r\n\ttoDelete(i) {\r\n\t\tthis.dataList.splice(i, 1);\r\n\t\tthis.dataList = _.clone(this.dataList);\r\n\t}\r\n\t//下一步\r\n\tnext() {\r\n\t\tif (this.marketingCampaigntType == '12') {\r\n\t\t\tif (!this.dataList || this.dataList == '') {\r\n\t\t\t\tthis.msgs = [];\r\n\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '请选择产品!' });\r\n\t\t\t} else {\r\n\t\t\t\tif(!this.recReasons){\r\n\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '请填写推荐产品理由!' });\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.dataSource != '01') {\r\n\t\t\t\t\t//更新批次列表\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tbatchId: this.batchId,\r\n\t\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\tproductList: this.dataList,\r\n\t\t\t\t\t\trecReasons: this.recReasons,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.marketingHttpService.updateBusiBatchInfo(params).subscribe(data => {\r\n\t\t\t\t\t\tif (data.returnCode.code == 'success') {\r\n\t\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\t\tthis.msgs.push({ severity: 'success', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '调用服务失败' });\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 更新批次明细\r\n\t\t\t\t\t// let parames = {\r\n\t\t\t\t\t// \tbatchId: this.batchId,\r\n\t\t\t\t\t// \tsecBatchId: this.secBatchId,\r\n\t\t\t\t\t// \tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t// \tproductList: this.dataList,\r\n\t\t\t\t\t// \trecReasons: this.recReasons,\r\n\t\t\t\t\t// \t// marketStat: '02',\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// this.marketingHttpService.updateBusiBatchDetailInfo(parames).subscribe(data => {\r\n\t\t\t\t\t// \tif (data.returnCode.code == 'success') {\r\n\t\t\t\t\t// \t\tdebugger;\r\n\t\t\t\t\t// \t\tthis.msgs = [];\r\n\t\t\t\t\t// \t\tthis.msgs.push({ severity: 'success', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t// \t} else {\r\n\t\t\t\t\t// \t\tthis.msgs = [];\r\n\t\t\t\t\t// \t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }, error => {\r\n\t\t\t\t\t// \tthis.msgs = [];\r\n\t\t\t\t\t// \tthis.msgs.push({ severity: 'error', summary: '提示', detail: '调用服务失败' });\r\n\t\t\t\t\t// });\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\tbatchId: this.batchId,\r\n\t\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\trecReasons: this.recReasons,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.marketingHttpService.updateBusiBatchDetailInfo(params).subscribe(data => {\r\n\t\t\t\t\t\tif (data.returnCode.code == 'success') {\r\n\t\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\t\tthis.msgs.push({ severity: 'success', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '调用服务失败' });\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// if (this.isNext) {\r\n\t\t\t\t// \tthis.router.navigate(['/pages/tzb/custom/marketing/marketing-activite/marketing-activity-detail', paramSum])\r\n\t\t\t\t// } else {\r\n\t\t\t\tthis.url = JSON.parse(this.commfunc.getSessionDataCH('markingURL'));\r\n\t\t\t\tlet navUrl = '';\r\n\t\t\t\tlet indexId = '';\r\n\t\t\t\tthis.url.forEach((element, index) => {\r\n\t\t\t\t\tif (element.label == \"ReleProductComponent\") {\r\n\t\t\t\t\t\tnavUrl = this.url[index + 1].url;\r\n\t\t\t\t\t\tindexId = this.url[index + 1].index;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet param = {};\r\n\r\n\t\t\t\tif (this.flagCopy) {\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\trelationProductList: JSON.stringify(this.dataList),\r\n\t\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\t\tbatchId: this.batchId,// 批次号\r\n\t\t\t\t\t\tdataSource: this.dataSource,\r\n\t\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\t\tflagCopy: this.flagCopy\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\tbatchId: this.batchId,// 批次号\r\n\t\t\t\t\t\tdataSource: this.dataSource,\r\n\t\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\t\trelationProductList: JSON.stringify(this.dataList),\r\n\t\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.router.navigate([navUrl, param]);//促销手段\r\n\t\t\t\tthis.commfunc.setSessionDataCH('index', indexId)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet param = {\r\n\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\trelationProductList: this.dataList,\r\n\t\t\t}\r\n\t\t\tthis.marketingHttpService.createCampaignProduct(param).subscribe(data => {\r\n\t\t\t\tif (data.returnCode.code == 'success') {\r\n\t\t\t\t\tlet paramSum = {\r\n\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\ttype: 'marking',\r\n\t\t\t\t\t\t// deId:this.deId,\r\n\t\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.isNext) {\r\n\t\t\t\t\t\tthis.router.navigate(['/pages/tzb/custom/marketing/marketing-activite/marketing-activity-detail', paramSum])\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.url = JSON.parse(this.commfunc.getSessionDataCH('markingURL'));\r\n\t\t\t\t\t\tlet navUrl = '';\r\n\t\t\t\t\t\tlet indexId = '';\r\n\t\t\t\t\t\tthis.url.forEach((element, index) => {\r\n\t\t\t\t\t\t\tif (element.label == \"ReleProductComponent\") {\r\n\t\t\t\t\t\t\t\tnavUrl = this.url[index + 1].url;\r\n\t\t\t\t\t\t\t\tindexId = this.url[index + 1].index;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet param = {};\r\n\t\t\t\t\t\tif (this.flagCopy) {\r\n\t\t\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\t\t\trelationProductList: JSON.stringify(this.dataList),\r\n\t\t\t\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\t\t\t\tflagCopy: this.flagCopy\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\t\t\t\trelationProductList: JSON.stringify(this.dataList),\r\n\t\t\t\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.router.navigate([navUrl, param]);//促销手段\r\n\t\t\t\t\t\tthis.commfunc.setSessionDataCH('index', indexId)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\tthis.msgs.push({ severity: 'success', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.msgs = [];\r\n\t\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: data.returnCode.message });\r\n\t\t\t\t}\r\n\t\t\t}, error => {\r\n\t\t\t\tthis.msgs = [];\r\n\t\t\t\tthis.msgs.push({ severity: 'error', summary: '提示', detail: '调用服务失败' });\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t//上一步\r\n\tprev() {\r\n\t\tthis.url = JSON.parse(this.commfunc.getSessionDataCH('markingURL'));\r\n\t\tlet navUrl = '';\r\n\t\tlet indexId = '';\r\n\t\tthis.url.forEach((element, index) => {\r\n\t\t\tif (element.label == \"ReleProductComponent\") {\r\n\t\t\t\tnavUrl = this.url[index - 1].url;\r\n\t\t\t\tindexId = this.url[index - 1].index;\r\n\t\t\t}\r\n\t\t});\r\n\t\tlet param = {};\r\n\t\tif (this.marketingCampaigntType != '12') {\r\n\t\t\tif (this.flagCopy) {\r\n\t\t\t\tparam = {\r\n\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\tflagCopy: this.flagCopy,\r\n\t\t\t\t\ttabPrev: 'tabUp'\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tparam = {\r\n\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\ttabPrev: 'tabUp'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdebugger;\r\n\t\t\tif (this.flagCopy) {\r\n\t\t\t\tparam = {\r\n\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\tbatchId: this.batchId,// 批次号\r\n\t\t\t\t\tdataSource: this.dataSource,\r\n\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\tflagCopy: this.flagCopy,\r\n\t\t\t\t\ttabPrev: 'tabUp'\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tparam = {\r\n\t\t\t\t\tbatchId: this.batchId,// 批次号\r\n\t\t\t\t\tdataSource: this.dataSource,\r\n\t\t\t\t\tsecBatchId: this.secBatchId,\r\n\t\t\t\t\tmarketingCampaignId: this.marketingCampaignId,\r\n\t\t\t\t\tmarketingCampaigntType: this.marketingCampaigntType,\r\n\t\t\t\t\ttabPrev: 'tabUp'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.router.navigate([navUrl, param]);//营销对象\r\n\t\tthis.commfunc.setSessionDataCH('index', indexId)\r\n\t}\r\n\t//重置\r\n\trest() {\r\n\t\tthis.dataList = [];\r\n\t}\r\n\t//详情\r\n\techoClick() {\r\n\t\tthis.marketingHttpService.queryMarketingCampaignById({ marketingCampaignId: this.marketingCampaignId }).subscribe(data => {\r\n\t\t\tif (data.returnCode.code == 'success') {\r\n\t\t\t\tlet marketingParam = {\r\n\t\t\t\t\tmarketingObjectType: data.marketingObjectType,\r\n\t\t\t\t\texploreCondtionId: data.exploreCondtionId\r\n\t\t\t\t}\r\n\t\t\t\tthis.commfunc.setSessionDataCH('marketingParam', JSON.stringify(marketingParam));\r\n\t\t\t\tif (data.relationProductList) {\r\n\t\t\t\t\tthis.dataList = data.relationProductList;\r\n\t\t\t\t}\r\n\t\t\t\tif (data.statusId == '3') {//状态为已发布进行中时不给修改\r\n\t\t\t\t\tthis.showDisabled = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.showDisabled = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { SharedBasisModule } from 'app/sharedBasis.module';\r\nimport { FrameworkModule } from 'app/@uisftech/framework.module';\r\nimport { ReleProductRouting } from './relevance-product.routing';\r\nimport { ReleProductComponent } from './relevance-product.component';\r\nimport { MarketingProductTreeModule } from '../marketing-product-tree/marketing-product-tree.module';\r\n// import { MarketingProductTree } from '../marketing-product-tree/marketing-product-tree.component';\r\n\r\n@NgModule({\r\n    //基本要素\r\n    imports: [\r\n        SharedBasisModule,\r\n        CommonModule,\r\n        ReleProductRouting,\r\n        FrameworkModule,\r\n        MarketingProductTreeModule\r\n    ],\r\n    declarations: [\r\n        ReleProductComponent,\r\n        // MarketingProductTree\r\n    ],\r\n    providers: []\r\n})\r\nexport class ReleProductModule { }","import { Routes, RouterModule } from '@angular/router';\r\nimport { ModuleWithProviders } from '@angular/core';\r\nimport { ReleProductComponent } from './relevance-product.component';\r\nexport const routes: Routes = [\r\n    {path: '',component:ReleProductComponent}\r\n]\r\nexport const ReleProductRouting: ModuleWithProviders = RouterModule.forChild(routes);"],"sourceRoot":""}